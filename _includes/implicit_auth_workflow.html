<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="1052px" viewBox="-0.5 -0.5 1052 562" content="&lt;mxfile modified=&quot;2020-02-27T11:20:17.884Z&quot; host=&quot;www.draw.io&quot; agent=&quot;Mozilla/5.0 (Macintosh; Intel Mac OS X 10.15; rv:72.0) Gecko/20100101 Firefox/72.0&quot; etag=&quot;YSuLUOK_0ZSI6tFjn9QF&quot; version=&quot;12.7.8&quot; type=&quot;google&quot;&gt;&lt;diagram id=&quot;NEN49luqhqemV9Vau6yv&quot; name=&quot;Page-1&quot;&gt;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&lt;/diagram&gt;&lt;/mxfile&gt;" onclick="(function(svg){var src=window.event.target||window.event.srcElement;while (src!=null&amp;&amp;src.nodeName.toLowerCase()!='a'){src=src.parentNode;}if(src==null){if(svg.wnd!=null&amp;&amp;!svg.wnd.closed){svg.wnd.focus();}else{var r=function(evt){if(evt.data=='ready'&amp;&amp;evt.source==svg.wnd){svg.wnd.postMessage(decodeURIComponent(svg.getAttribute('content')),'*');window.removeEventListener('message',r);}};window.addEventListener('message',r);svg.wnd=window.open('https://www.draw.io/?client=1&amp;lightbox=1&amp;edit=_blank');}}})(this);" style="cursor:pointer;max-width:100%;max-height:562px;"><defs/><g><path d="M 205 560 L 204.5 85" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 530 560 L 529.5 425" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 16.5 150 L 200.64 159.67" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 205.88 159.94 L 198.71 163.07 L 200.64 159.67 L 199.08 156.08 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 155px; margin-left: 98px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">click "login"</div></div></div></foreignObject><text x="98" y="159" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">click "login"</text></switch></g><ellipse cx="202" cy="37.5" rx="37.5" ry="37.5" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 73px; height: 1px; padding-top: 38px; margin-left: 167px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><div style="text-align: center"><b>Algorea Frontend</b></div></div></div></div></foreignObject><text x="167" y="41" fill="#000000" font-family="Helvetica" font-size="12px">Algorea Fron...</text></switch></g><ellipse cx="529.5" cy="387.5" rx="37.5" ry="37.5" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 73px; height: 1px; padding-top: 388px; margin-left: 494px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; word-wrap: normal; "><div style="text-align: center"><span>Algorea Backend</span><br /></div></div></div></div></foreignObject><text x="494" y="391" fill="#000000" font-family="Helvetica" font-size="12px" font-weight="bold">Algorea Back...</text></switch></g><path d="M 834 560 L 834 85" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><ellipse cx="834.5" cy="37.5" rx="37.5" ry="37.5" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 73px; height: 1px; padding-top: 38px; margin-left: 799px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; word-wrap: normal; "><div style="text-align: center">Auth Module</div></div></div></div></foreignObject><text x="799" y="41" fill="#000000" font-family="Helvetica" font-size="12px" font-weight="bold">Auth Module</text></switch></g><ellipse cx="16.5" cy="23.13" rx="8.25" ry="8.125" fill="#ffffff" stroke="#000000" pointer-events="all"/><path d="M 16.5 31.25 L 16.5 58.33 M 16.5 36.67 L 0 36.67 M 16.5 36.67 L 33 36.67 M 16.5 58.33 L 0 80 M 16.5 58.33 L 33 80" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 16 560 L 16 90" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 207 170 L 830.63 179.9" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 835.88 179.98 L 828.83 183.37 L 830.63 179.9 L 828.94 176.37 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 170px; margin-left: 517px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">credential request on /tobedefined<br />(with <span>response_type="</span><span>id_token token"</span><span>, </span><span>client_id="algoreafrontend", <br /></span><span>redirect_uri="/redirect/uri", scope=.., state=...)</span></div></div></div></foreignObject><text x="517" y="174" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">credential request on /tobedefined...</text></switch></g><path d="M 834.5 220 L 207.65 227.67 C 207.6 223.77 201.6 223.84 201.65 227.74 L 201.65 227.74 L 23.37 229.92" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 18.12 229.99 L 25.07 226.4 L 23.37 229.92 L 25.16 233.4 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 219px; margin-left: 419px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">redirect to login prompt<br /></div></div></div></foreignObject><text x="419" y="223" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">redirect to login prompt&#xa;</text></switch></g><path d="M 17 260 L 201.69 264.56 C 201.79 260.66 207.78 260.81 207.69 264.71 L 207.69 264.71 L 820.63 279.84" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 825.88 279.97 L 818.8 283.3 L 820.63 279.84 L 818.97 276.3 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 270px; margin-left: 404px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">enter credentials, consent, ...<br /></div></div></div></foreignObject><text x="404" y="274" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">enter credentials, consent, ...&#xa;</text></switch></g><path d="M 835 310 L 834.5 310.01 Q 834 310.02 824 310.18 L 213.37 319.9" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 208.12 319.98 L 215.06 316.37 L 213.37 319.9 L 215.17 323.37 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 309px; margin-left: 514px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">302 redirect to /redirect_uri#access_token=...<span>&amp;expires_in=7200</span><span>&amp;id_token=..</span><span>&amp;token_type=Bearer</span><span>&amp;state=<br /></span>+ session cookie<br /></div></div></div></foreignObject><text x="514" y="313" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">302 redirect to /redirect_uri#access_token=...&amp;expires_in=7200&amp;id_token=..&amp;token_type=Bearer&amp;state=...</text></switch></g><path d="M 207 440 L 520.64 459.6" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 525.88 459.93 L 518.68 462.99 L 520.64 459.6 L 519.12 456 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 450px; margin-left: 368px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">call /callback<br />with id_token<br />+ access_token in "authorization" headers<br /></div></div></div></foreignObject><text x="368" y="454" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">call /callback...</text></switch></g><path d="M 527 500 L 213.36 509.8" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 208.12 509.97 L 215 506.25 L 213.36 509.8 L 215.22 513.24 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 499px; margin-left: 357px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">success<br /></div></div></div></foreignObject><text x="357" y="503" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">success&#xa;</text></switch></g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 384px; margin-left: 211px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">store access_token<br />parse id_token for user info<br /></div></div></div></foreignObject><text x="211" y="388" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">store access_token...</text></switch></g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 484px; margin-left: 542px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; "><div style="text-align: left"><span>validate tokens signature</span></div><div style="text-align: left"><span>update user info from id_token</span></div></div></div></div></foreignObject><text x="542" y="488" fill="#000000" font-family="Helvetica" font-size="12px">validate tokens signature...</text></switch></g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 287px; margin-left: 852px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">check credentials, store consent<br />generate access_token (auth in JWT) <br />generate id token (user info in JWT)<br /></div></div></div></foreignObject><text x="852" y="291" fill="#000000" font-family="Helvetica" font-size="12px">check credentials, store consent...</text></switch></g><path d="M 209.5 530 L 523.64 539.8" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 528.88 539.97 L 521.78 543.25 L 523.64 539.8 L 522 536.25 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 535px; margin-left: 370px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">any other calls<br />"Authorization" header: access_token <br /></div></div></div></foreignObject><text x="370" y="539" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">any other calls...</text></switch></g></g><switch><g requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"/><a transform="translate(0,-5)" xlink:href="https://desk.draw.io/support/solutions/articles/16000042487" target="_blank"><text text-anchor="middle" font-size="10px" x="50%" y="100%">Viewer does not support full SVG 1.1</text></a></switch></svg>
