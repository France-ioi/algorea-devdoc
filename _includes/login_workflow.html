<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="1058px" viewBox="-0.5 -0.5 1058 672" content="&lt;mxfile modified=&quot;2020-02-27T11:08:24.459Z&quot; host=&quot;www.draw.io&quot; agent=&quot;Mozilla/5.0 (Macintosh; Intel Mac OS X 10.15; rv:72.0) Gecko/20100101 Firefox/72.0&quot; etag=&quot;erEvOIGJoAOpvqcuG8OJ&quot; version=&quot;12.7.8&quot; type=&quot;google&quot;&gt;&lt;diagram id=&quot;NEN49luqhqemV9Vau6yv&quot; name=&quot;Page-1&quot;&gt;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&lt;/diagram&gt;&lt;/mxfile&gt;" onclick="(function(svg){var src=window.event.target||window.event.srcElement;while (src!=null&amp;&amp;src.nodeName.toLowerCase()!='a'){src=src.parentNode;}if(src==null){if(svg.wnd!=null&amp;&amp;!svg.wnd.closed){svg.wnd.focus();}else{var r=function(evt){if(evt.data=='ready'&amp;&amp;evt.source==svg.wnd){svg.wnd.postMessage(decodeURIComponent(svg.getAttribute('content')),'*');window.removeEventListener('message',r);}};window.addEventListener('message',r);svg.wnd=window.open('https://www.draw.io/?client=1&amp;lightbox=1&amp;edit=_blank');}}})(this);" style="cursor:pointer;max-width:100%;max-height:672px;"><defs/><g><path d="M 205 660 L 204.5 85" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 529 650 L 534.5 75" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 16.5 110 L 190.63 110" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 195.88 110 L 188.88 113.5 L 190.63 110 L 188.88 106.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 111px; margin-left: 94px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">click "login"</div></div></div></foreignObject><text x="94" y="114" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">click "login"</text></switch></g><ellipse cx="202" cy="37.5" rx="37.5" ry="37.5" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 73px; height: 1px; padding-top: 38px; margin-left: 167px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><div style="text-align: center"><b>Algorea Frontend</b></div></div></div></div></foreignObject><text x="167" y="41" fill="#000000" font-family="Helvetica" font-size="12px">Algorea Fron...</text></switch></g><ellipse cx="534.5" cy="37.5" rx="37.5" ry="37.5" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 73px; height: 1px; padding-top: 38px; margin-left: 499px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; word-wrap: normal; "><div style="text-align: center"><span>Algorea </span><span>Backend</span></div></div></div></div></foreignObject><text x="499" y="41" fill="#000000" font-family="Helvetica" font-size="12px" font-weight="bold">Algorea Back...</text></switch></g><path d="M 827 660 L 834 85" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><ellipse cx="834.5" cy="37.5" rx="37.5" ry="37.5" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 73px; height: 1px; padding-top: 38px; margin-left: 799px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; word-wrap: normal; "><div style="text-align: center">Login Module</div></div></div></div></foreignObject><text x="799" y="41" fill="#000000" font-family="Helvetica" font-size="12px" font-weight="bold">Login Module</text></switch></g><ellipse cx="16.5" cy="23.13" rx="8.25" ry="8.125" fill="#ffffff" stroke="#000000" pointer-events="all"/><path d="M 16.5 31.25 L 16.5 58.33 M 16.5 36.67 L 0 36.67 M 16.5 36.67 L 33 36.67 M 16.5 58.33 L 0 80 M 16.5 58.33 L 33 80" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 16 670 L 16 90" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 247 185 L 828.13 194.89" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 833.38 194.98 L 826.32 198.36 L 828.13 194.89 L 826.44 191.36 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 185px; margin-left: 537px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">GET /oauth/authorize?scope=account&amp;state=abc&amp;response_type=code&amp;approval_prompt=auto<br />&amp;redirect_uri=http<b>s</b>://algorea/login_callback&amp;client_id=17&amp;locale=fr</div></div></div></foreignObject><text x="537" y="189" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">GET /oauth/authorize?scope=account&amp;state=abc&amp;response_type=code&amp;approval_prompt=auto...</text></switch></g><path d="M 834 215 L 833.21 215.01 Q 832.42 215.03 822.42 215.2 L 536.11 220.07 C 536.04 216.18 530.05 216.28 530.11 220.18 L 530.11 220.18 L 253.37 224.89" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 248.12 224.98 L 255.06 221.36 L 253.37 224.89 L 255.18 228.36 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 214px; margin-left: 533px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">redirect to login prompt<br /></div></div></div></foreignObject><text x="533" y="218" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">redirect to login prompt&#xa;</text></switch></g><path d="M 253.37 235 L 529.97 235 C 529.97 231.1 535.97 231.1 535.97 235 L 535.97 235 L 820.63 235" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 248.12 235 L 255.12 231.5 L 253.37 235 L 255.12 238.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 825.88 235 L 818.88 238.5 L 820.63 235 L 818.88 231.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 236px; margin-left: 521px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">enter credentials, consent, ...<br /></div></div></div></foreignObject><text x="521" y="239" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">enter credentials, consent, ...&#xa;</text></switch></g><path d="M 827 348 L 534.79 358.08 C 534.66 354.18 528.66 354.39 528.79 358.28 L 528.79 358.28 L 253.36 367.78" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 248.12 367.96 L 254.99 364.22 L 253.36 367.78 L 255.23 371.22 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 368px; margin-left: 534px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">302 redirect to http<b>s</b>://algorea/login_callback?code=...&amp;state=...<br />+ session cookie<br /></div></div></div></foreignObject><text x="534" y="372" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">302 redirect to https://algorea/login_callback?code=...&amp;state=......</text></switch></g><path d="M 247 400 L 520.14 409.77" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 525.38 409.96 L 518.26 413.21 L 520.14 409.77 L 518.51 406.21 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 405px; margin-left: 388px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">http<b>s</b>://algorea/login_callback<span>?code=&amp;state=<br /></span>Cookie: abab</div></div></div></foreignObject><text x="388" y="409" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">https://algorea/login_callback?code=&amp;state=...</text></switch></g><path d="M 526.5 563 L 253.36 572.77" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 248.12 572.96 L 254.99 569.21 L 253.36 572.77 L 255.24 576.21 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 562px; margin-left: 376px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">access_token, expire_in<br /></div></div></div></foreignObject><text x="376" y="566" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">access_token, expire_in&#xa;</text></switch></g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 329px; margin-left: 852px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">generate authorization code<br />(only usable by AlgoreaBackend)<br /></div></div></div></foreignObject><text x="852" y="333" fill="#000000" font-family="Helvetica" font-size="12px">generate authorization code...</text></switch></g><path d="M 536.5 427 L 820.64 436.78" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 825.88 436.96 L 818.77 440.22 L 820.64 436.78 L 819.01 433.22 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 432px; margin-left: 682px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">POST https://login-module<span>/oauth/token</span><br />(providing authorization code + server secret)<br /></div></div></div></foreignObject><text x="682" y="436" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">POST https://login-module/oauth/token...</text></switch></g><path d="M 827 477 L 542.36 486.78" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 537.12 486.96 L 543.99 483.22 L 542.36 486.78 L 544.23 490.22 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 476px; margin-left: 672px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">{access token:...<span>, refresh_token:..., <br /></span>expires_in: 3600, type: bearer, scope: null }<br /></div></div></div></foreignObject><text x="672" y="480" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">{access token:..., refresh_token:...,...</text></switch></g><path d="M 829.5 275 L 535.55 278.53 C 535.51 274.63 529.51 274.7 529.55 278.6 L 529.55 278.6 L 253.37 281.92" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 248.12 281.99 L 255.08 278.4 L 253.37 281.92 L 255.16 285.4 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 273px; margin-left: 530px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">302 redirect to <span>/oauth/authorize?... </span>+ set session cookie<br /></div></div></div></foreignObject><text x="530" y="277" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">302 redirect to /oauth/authorize?... + set session cookie&#xa;</text></switch></g><rect x="847" y="215" width="210" height="30" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 222px; margin-left: 849px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; ">check credentials, store consent<br />create session cookie<br /></div></div></div></foreignObject><text x="849" y="234" fill="#000000" font-family="Helvetica" font-size="12px">check credentials, store consent...</text></switch></g><path d="M 247 305 L 529.25 309.87 C 529.32 305.97 535.32 306.07 535.25 309.97 L 535.25 309.97 L 820.63 314.89" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 825.88 314.98 L 818.82 318.36 L 820.63 314.89 L 818.94 311.36 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 310px; margin-left: 521px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">GET <span>/oauth/authorize?approval_prompt=auto&amp;client_id=17&amp;locale=fr&amp;<br />redirect_uri=https://algorea/</span>login_callback<span>&amp;response_type=code&amp;scope=account&amp;state=abc</span></div></div></div></foreignObject><text x="521" y="314" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">GET /oauth/authorize?approval_prompt=auto&amp;client_id=17&amp;locale=fr&amp;...</text></switch></g><path d="M 239 580 L 239 100" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><rect x="217" y="65" width="70" height="30" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 72px; margin-left: 219px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 10px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; ">auth popup</div></div></div></foreignObject><text x="219" y="82" fill="#000000" font-family="Helvetica" font-size="10px">auth popup</text></switch></g><path d="M 208.5 110 L 520.64 119.8" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 525.88 119.96 L 518.78 123.24 L 520.64 119.8 L 519 116.25 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 117px; margin-left: 337px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">/login</div></div></div></foreignObject><text x="337" y="120" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">/login</text></switch></g><path d="M 22.87 234.51 L 201.63 234.92 C 201.64 231.02 207.64 231.03 207.63 234.93 L 207.63 234.93 L 230.63 234.99" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 17.62 234.5 L 24.63 231.02 L 22.87 234.51 L 24.61 238.02 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 235.88 235 L 228.87 238.48 L 230.63 234.99 L 228.89 231.48 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 238.5 573 L 214.54 580.99" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 209.56 582.65 L 215.09 577.11 L 214.54 580.99 L 217.31 583.75 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 531px; margin-left: 334px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; "><div style="text-align: right"><span>update (or create) user</span></div><div style="text-align: right"><span>store access_token &amp; </span><span>refresh_token</span></div></div></div></div></foreignObject><text x="334" y="535" fill="#000000" font-family="Helvetica" font-size="12px">update (or create) user...</text></switch></g><rect x="68.5" y="563" width="140" height="30" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-end; width: 1px; height: 1px; padding-top: 570px; margin-left: 207px;"><div style="box-sizing: border-box; font-size: 0; text-align: right; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; ">store access_token </div></div></div></foreignObject><text x="207" y="582" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="end">store access_token </text></switch></g><path d="M 527 640 L 215.86 649.8" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 210.62 649.96 L 217.5 646.25 L 215.86 649.8 L 217.72 653.24 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 639px; margin-left: 358px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">user info<br /></div></div></div></foreignObject><text x="358" y="643" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">user info&#xa;</text></switch></g><path d="M 529.5 497 L 529.98 497.02 Q 530.46 497.03 540.46 497.37 L 821.14 506.79" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 826.38 506.96 L 819.27 510.23 L 821.14 506.79 L 819.5 503.23 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 502px; margin-left: 679px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">GET <span>/user_api/account</span></div></div></div></foreignObject><text x="679" y="506" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">GET /user_api/account</text></switch></g><path d="M 827 517 L 540.17 526.63 Q 530.18 526.96 532.77 526.87 L 535.36 526.79" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 530.12 526.96 L 537 523.23 L 535.36 526.79 L 537.23 530.23 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 516px; margin-left: 668px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">user info<br /></div></div></div></foreignObject><text x="668" y="520" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">user info&#xa;</text></switch></g><path d="M 202 588 L 23.36 597.66" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 18.12 597.94 L 24.92 594.07 L 23.36 597.66 L 25.3 601.06 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 593px; margin-left: 87px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">close popup<br /></div></div></div></foreignObject><text x="87" y="597" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">close popup&#xa;</text></switch></g><path d="M 201.5 650 L 22.86 659.66" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 17.62 659.94 L 24.42 656.07 L 22.86 659.66 L 24.8 663.06 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 650px; margin-left: 107px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">update user info in UI<br /></div></div></div></foreignObject><text x="107" y="654" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">update user info in UI&#xa;</text></switch></g><path d="M 207 620 L 522.64 629.8" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 527.88 629.97 L 520.78 633.25 L 522.64 629.8 L 520.99 626.25 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 625px; margin-left: 369px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">GET <span>/current-user/</span></div></div></div></foreignObject><text x="369" y="629" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">GET /current-user/</text></switch></g><path d="M 527 150 L 253.36 159.77" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 248.12 159.96 L 254.99 156.21 L 253.36 159.77 L 255.24 163.21 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 152px; margin-left: 415px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">302 redirect to &lt;see next line&gt;<br />Set-Cookie: <span style="text-align: left ; background-color: rgb(248 , 249 , 250)">abab</span></div></div></div></foreignObject><text x="415" y="156" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">302 redirect to &lt;see next line&gt;...</text></switch></g><rect x="541" y="120" width="210" height="30" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 127px; margin-left: 543px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; ">Generate &amp; store a (state, cookie) pair</div></div></div></foreignObject><text x="543" y="139" fill="#000000" font-family="Helvetica" font-size="12px">Generate &amp; store a (state, cookie)...</text></switch></g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 406px; margin-left: 534px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">verify the (state, cookie) pair</div></div></div></foreignObject><text x="534" y="410" fill="#000000" font-family="Helvetica" font-size="12px">verify the (state, cookie) pair</text></switch></g></g><switch><g requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"/><a transform="translate(0,-5)" xlink:href="https://desk.draw.io/support/solutions/articles/16000042487" target="_blank"><text text-anchor="middle" font-size="10px" x="50%" y="100%">Viewer does not support full SVG 1.1</text></a></switch></svg>
